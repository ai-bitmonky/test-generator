⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217
[dotenv@17.2.3] injecting env (4) from .env.local -- tip: 🗂️ backup and recover secrets: https://dotenvx.com/ops
🚀 Complete Enrichment Pipeline for Existing Questions

📚 Subject: Mathematics
⏱️  Delay: 6000ms between calls
📊 Max words per field: 100

✨ ALL FEATURES ACTIVE:
   • Text enrichment (strategy, expert_insight, key_facts)
   • SVG generation for missing figures
   • 100-word limits with auto-condensing
   • HTML entity cleanup in options
   • Combined word separation
   • Figure warning removal

======================================================================

📥 Fetching questions needing enrichment...

   Total Mathematics questions: 433
   Need enrichment: 227 (52.4%)


[1/227] Processing question 13ed6cb2...
   🎯 Generating strategy...
      ✅ Generated (86 words)
   💡 Generating expert insight...
      ✅ Generated (97 words)
   📚 Generating key facts...
      ✅ Generated (30 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[2/227] Processing question 74f8f0b1...
   🎯 Generating strategy...
      ✅ Generated (72 words)
   💡 Generating expert insight...
      ✅ Generated (88 words)
   📚 Generating key facts...
      ✅ Generated (21 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[3/227] Processing question 75c4b5bc...
   🎯 Generating strategy...
      ✅ Generated (78 words)
   💡 Generating expert insight...
      ✅ Generated (75 words)
   📚 Generating key facts...
      ✅ Generated (18 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[4/227] Processing question 76a09333...
   🎯 Generating strategy...
      ✅ Generated (84 words)
   💡 Generating expert insight...
      ✅ Generated (52 words)
   📚 Generating key facts...
      ✅ Generated (24 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[5/227] Processing question 77c1207c...
   🎯 Generating strategy...
      ✅ Generated (84 words)
   💡 Generating expert insight...
      ✅ Generated (97 words)
   📚 Generating key facts...
      ✅ Generated (44 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[6/227] Processing question 7874b088...
   🎯 Generating strategy...
      ✅ Generated (92 words)
   💡 Generating expert insight...
      ✅ Generated (47 words)
   📚 Generating key facts...
      ✅ Generated (54 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[7/227] Processing question 78b2ead3...
   🎯 Generating strategy...
      ✅ Generated (98 words)
   💡 Generating expert insight...
      ✅ Generated (98 words)
   📚 Generating key facts...
      ✅ Generated (33 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[8/227] Processing question 792ba312...
   🎯 Generating strategy...
      ✅ Generated (93 words)
   💡 Generating expert insight...
      ✅ Generated (85 words)
   📚 Generating key facts...
      ✅ Generated (78 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[9/227] Processing question 79b70319...
   🎯 Generating strategy...
      ✅ Generated (90 words)
   💡 Generating expert insight...
      ✅ Generated (85 words)
   📚 Generating key facts...
      ✅ Generated (42 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[10/227] Processing question 7b00b5dd...
   🎯 Generating strategy...
      ✅ Generated (91 words)
   💡 Generating expert insight...
      ✅ Generated (79 words)
   📚 Generating key facts...
      ✅ Generated (22 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

📊 Progress: 10/227 (4.4%)
   Enriched: 10, Failed: 0, Skipped: 0
   Text enriched: 30, SVGs generated: 0


[11/227] Processing question 7bbdaa5f...
   🎯 Generating strategy...
      ✅ Generated (61 words)
   💡 Generating expert insight...
      ✅ Generated (87 words)
   📚 Generating key facts...
      ✅ Generated (36 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[12/227] Processing question 7bda7c38...
   🎯 Generating strategy...
      ✅ Generated (80 words)
   💡 Generating expert insight...
      ✅ Generated (100 words)
   📚 Generating key facts...
      ✅ Generated (40 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[13/227] Processing question 7c279eee...
   🎯 Generating strategy...
      ✅ Generated (74 words)
   💡 Generating expert insight...
      ✅ Generated (85 words)
   📚 Generating key facts...
      ✅ Generated (25 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[14/227] Processing question 7c6b2624...
   🎯 Generating strategy...
      ✅ Generated (86 words)
   💡 Generating expert insight...
      ✅ Generated (79 words)
   📚 Generating key facts...
      ✅ Generated (61 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[15/227] Processing question 7ce9e8c8...
   🎯 Generating strategy...
      ✅ Generated (81 words)
   💡 Generating expert insight...
      ✅ Generated (82 words)
   📚 Generating key facts...
      ✅ Generated (35 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[16/227] Processing question 7d1e44e6...
   🎯 Generating strategy...
      ✅ Generated (78 words)
   💡 Generating expert insight...
      ✅ Generated (91 words)
   📚 Generating key facts...
      ✅ Generated (20 words)
   🎨 Checking for missing figures...
   ✅ Updated with 3 fields

[17/227] Processing question 7e8db182...
   🎯 Generating strategy...
      ✅ Generated (75 words)
   💡 Generating expert insight...
      ✅ Generated (85 words)
