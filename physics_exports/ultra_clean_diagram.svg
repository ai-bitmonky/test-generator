<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
<!-- Clean white background -->
<rect width="1200" height="800" fill="white"/>

<!-- Title -->
<text x="600.0" y="40" text-anchor="middle" font-size="28" font-weight="bold" fill="#2c3e50">
  Sphere with Spherical Cavity - Uniform Electric Field
</text>

<!-- Definitions -->
<defs>
  <!-- Arrow markers - different colors -->
  <marker id="arrowRed" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
    <polygon points="0 0, 10 3, 0 6" fill="#e74c3c"/>
  </marker>
  <marker id="arrowPurple" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
    <polygon points="0 0, 10 3, 0 6" fill="#9b59b6"/>
  </marker>
  <marker id="arrowGreen" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
    <polygon points="0 0, 10 3, 0 6" fill="#27ae60"/>
  </marker>

  <!-- Subtle charge pattern -->
  <pattern id="chargePattern" x="0" y="0" width="30" height="30" patternUnits="userSpaceOnUse">
    <circle cx="8" cy="8" r="2" fill="#3498db" opacity="0.3"/>
    <circle cx="22" cy="8" r="2" fill="#3498db" opacity="0.3"/>
    <circle cx="15" cy="22" r="2" fill="#3498db" opacity="0.3"/>
    <text x="15" y="17" font-size="10" fill="#2980b9" text-anchor="middle" opacity="0.5">+</text>
  </pattern>
</defs>

<!-- ========== LEFT SIDE: DIAGRAM ========== -->

<!-- Main Sphere (charged) -->
<circle cx="300" cy="400" r="180"
        fill="url(#chargePattern)" stroke="#2980b9" stroke-width="4"/>

<!-- Cavity (hollow) -->
<circle cx="375.17540966287265" cy="372.6383885339465" r="60"
        fill="white" stroke="#e67e22" stroke-width="4" stroke-dasharray="12,6"/>

<!-- ========== POINTS WITH CLEAR LABELS ========== -->

<!-- Point O (sphere center) -->
<circle cx="300" cy="400" r="6" fill="#2c3e50"/>
<!-- Label with white background -->
<rect x="240" y="415" width="50" height="30" fill="white" stroke="#2c3e50" stroke-width="1" rx="5"/>
<text x="265" y="435" text-anchor="middle" font-size="22" font-weight="bold" fill="#2c3e50">O</text>
<text x="265" y="455" text-anchor="middle" font-size="13" fill="#7f8c8d">(center)</text>

<!-- Point C (cavity center) -->
<circle cx="375.17540966287265" cy="372.6383885339465" r="6" fill="#e74c3c"/>
<!-- Label with white background -->
<rect x="385.17540966287265" y="322.6383885339465" width="50" height="30" fill="white" stroke="#e74c3c" stroke-width="1" rx="5"/>
<text x="410.17540966287265" y="342.6383885339465" text-anchor="middle" font-size="22" font-weight="bold" fill="#e74c3c">C</text>
<text x="410.17540966287265" y="362.6383885339465" text-anchor="middle" font-size="13" fill="#7f8c8d">(cavity)</text>

<!-- Point P (test point) -->
<circle cx="395.17540966287265" cy="387.6383885339465" r="6" fill="#9b59b6"/>
<!-- Label with white background -->
<rect x="407.17540966287265" y="369.6383885339465" width="40" height="28" fill="white" stroke="#9b59b6" stroke-width="1" rx="5"/>
<text x="427.17540966287265" y="390.6383885339465" text-anchor="middle" font-size="22" font-weight="bold" fill="#9b59b6">P</text>

<!-- ========== VECTORS WITH CLEAR SPACING ========== -->

<!-- Vector a (O to C) -->
<line x1="300" y1="400" x2="365.17540966287265" y2="366.6383885339465"
      stroke="#e74c3c" stroke-width="4" marker-end="url(#arrowRed)"/>
<!-- Label with background -->
<rect x="325" y="345" width="70" height="35" fill="white" stroke="#e74c3c" stroke-width="2" rx="5"/>
<text x="360" y="368" text-anchor="middle" font-size="26" font-weight="bold" fill="#e74c3c">
  <tspan font-style="italic">a</tspan>
  <tspan font-size="18" dy="-8">→</tspan>
</text>

<!-- Vector r (O to P) - dashed -->
<line x1="300" y1="400" x2="387.17540966287265" y2="382.6383885339465"
      stroke="#9b59b6" stroke-width="4" stroke-dasharray="12,6" marker-end="url(#arrowPurple)"/>
<!-- Label with background -->
<rect x="360" y="290" width="70" height="35" fill="white" stroke="#9b59b6" stroke-width="2" rx="5"/>
<text x="395" y="313" text-anchor="middle" font-size="26" font-weight="bold" fill="#9b59b6">
  <tspan font-style="italic">r</tspan>
  <tspan font-size="18" dy="-8">→</tspan>
</text>

<!-- ========== ELECTRIC FIELD LINES (parallel, showing uniformity) ========== -->
<g id="field-lines">
  <!-- Three parallel field lines in cavity -->
  <line x1="325.17540966287265" y1="342.6383885339465" x2="410.17540966287265" y2="342.6383885339465"
        stroke="#27ae60" stroke-width="3" marker-end="url(#arrowGreen)"/>
  <line x1="325.17540966287265" y1="372.6383885339465" x2="410.17540966287265" y2="372.6383885339465"
        stroke="#27ae60" stroke-width="3" marker-end="url(#arrowGreen)"/>
  <line x1="325.17540966287265" y1="402.6383885339465" x2="410.17540966287265" y2="402.6383885339465"
        stroke="#27ae60" stroke-width="3" marker-end="url(#arrowGreen)"/>

  <!-- Field label - clear position -->
  <rect x="320.17540966287265" y="297.6383885339465" width="120" height="38" fill="white" stroke="#27ae60" stroke-width="2" rx="5"/>
  <text x="380.17540966287265" y="322.6383885339465" text-anchor="middle" font-size="24" font-weight="bold" fill="#27ae60">
    <tspan font-style="italic">E</tspan>
    <tspan font-size="18" dy="-8">→</tspan>
    <tspan font-size="16" dy="8"> uniform</tspan>
  </text>
</g>

<!-- ========== RIGHT SIDE: FORMULAS & EXPLANATION ========== -->

<!-- Box for Part (a) -->
<g id="part-a">
  <rect x="650" y="120" width="520" height="180" fill="#e8f8f5" stroke="#16a085" stroke-width="3" rx="10"/>

  <text x="910" y="155" text-anchor="middle" font-size="22" font-weight="bold" fill="#16a085">
    Part (a): Field at point P in solid sphere
  </text>

  <!-- Formula in large clear text -->
  <rect x="700" y="175" width="420" height="70" fill="white" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="910" y="220" text-anchor="middle" font-size="32" font-weight="bold" fill="#16a085">
    <tspan font-style="italic">E</tspan>
    <tspan font-size="24" dy="-10">→</tspan>
    <tspan dy="10"> = </tspan>
    <tspan font-style="italic">ρr</tspan>
    <tspan font-size="24" dy="-10">→</tspan>
    <tspan dy="10">/(3ε₀)</tspan>
  </text>

  <text x="680" y="275" font-size="16" fill="#34495e">✓ Independent of sphere radius R</text>
</g>

<!-- Box for Part (b) -->
<g id="part-b">
  <rect x="650" y="330" width="520" height="220" fill="#fadbd8" stroke="#c0392b" stroke-width="3" rx="10"/>

  <text x="910" y="365" text-anchor="middle" font-size="22" font-weight="bold" fill="#c0392b">
    Part (b): Field inside cavity (UNIFORM!)
  </text>

  <!-- Formula in large clear text -->
  <rect x="700" y="385" width="420" height="70" fill="white" stroke="#c0392b" stroke-width="2" rx="8"/>
  <text x="910" y="430" text-anchor="middle" font-size="32" font-weight="bold" fill="#c0392b">
    <tspan font-style="italic">E</tspan>
    <tspan font-size="24" dy="-10">→</tspan>
    <tspan dy="10"> = </tspan>
    <tspan font-style="italic">ρa</tspan>
    <tspan font-size="24" dy="-10">→</tspan>
    <tspan dy="10">/(3ε₀)</tspan>
  </text>

  <text x="680" y="485" font-size="16" font-weight="bold" fill="#8e44ad">★ Key Result:</text>
  <text x="680" y="510" font-size="15" fill="#34495e">✓ Field is UNIFORM everywhere in cavity</text>
  <text x="680" y="535" font-size="15" fill="#34495e">✓ Independent of cavity size or position</text>
</g>

<!-- Key Insight Box -->
<rect x="650" y="580" width="520" height="110" fill="#fff3cd" stroke="#f39c12" stroke-width="3" rx="10"/>
<text x="910" y="615" text-anchor="middle" font-size="20" font-weight="bold" fill="#856404">
  💡 Physical Insight
</text>
<text x="680" y="645" font-size="15" fill="#856404">
  Uses <tspan font-weight="bold">superposition principle</tspan>:
</text>
<text x="680" y="670" font-size="14" fill="#856404">
  Cavity = Full charged sphere + Negatively charged sphere at cavity
</text>

<!-- Legend at bottom -->
<g id="legend">
  <rect x="100" y="680" width="480" height="90" fill="#f8f9fa" stroke="#34495e" stroke-width="2" rx="8"/>

  <text x="120" y="710" font-size="18" font-weight="bold" fill="#34495e">Legend:</text>

  <!-- Vector a -->
  <line x1="120" y1="735" x2="180" y2="735" stroke="#e74c3c" stroke-width="4" marker-end="url(#arrowRed)"/>
  <text x="195" y="742" font-size="16" fill="#2c3e50">
    <tspan font-style="italic">a</tspan>
    <tspan font-size="12" dy="-6">→</tspan>
    <tspan dy="6"> : Vector from O to C</tspan>
  </text>

  <!-- Vector r -->
  <line x1="120" y1="760" x2="180" y2="760" stroke="#9b59b6" stroke-width="4" stroke-dasharray="10,5"/>
  <text x="195" y="767" font-size="16" fill="#2c3e50">
    <tspan font-style="italic">r</tspan>
    <tspan font-size="12" dy="-6">→</tspan>
    <tspan dy="6"> : Vector from O to P</tspan>
  </text>

  <!-- Field E -->
  <line x1="400" y1="735" x2="460" y2="735" stroke="#27ae60" stroke-width="4" marker-end="url(#arrowGreen)"/>
  <text x="475" y="742" font-size="16" fill="#2c3e50">
    <tspan font-style="italic">E</tspan>
    <tspan font-size="12" dy="-6">→</tspan>
    <tspan dy="6"> : Electric field</tspan>
  </text>

  <!-- Charge density -->
  <circle cx="430" cy="760" r="8" fill="url(#chargePattern)" stroke="#2980b9" stroke-width="1"/>
  <text x="450" y="767" font-size="16" fill="#2c3e50">ρ : Uniform charge density</text>
</g>

<!-- Labels on diagram -->
<text x="200" y="200" font-size="17" font-weight="bold" fill="#2980b9">
  Charged Sphere
</text>
<text x="220" y="220" font-size="14" fill="#34495e">
  (uniform density ρ)
</text>

<text x="445.17540966287265" y="422.6383885339465" font-size="17" font-weight="bold" fill="#e67e22">
  Cavity
</text>
<text x="445.17540966287265" y="440.6383885339465" font-size="14" fill="#7f8c8d">
  (hollow)
</text>

</svg>